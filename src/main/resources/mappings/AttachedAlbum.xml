<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="sections.feed.posts.entities">

    <class name="sections.feed.posts.entities.AttachedAlbum" table="AttachedAlbums">
        <id name="attachedAlbumId" type="java.lang.Long">
            <column name="attAlbum_id" />
            <!--<generator class="foreign">-->
                <!--<param name="property">post</param>-->
            <!--</generator>-->
            <generator class="native"/>
        </id>

        <property name="mainPhotoLocation" length="2000"/>
        <!--<one-to-one name="post" class="sections.feed.posts.entities.Post" constrained="true"/>-->

        <set name="albumPhotos" table="AttachedAlbumPhotos" fetch="join" lazy="false" cascade="all"> <!--inverse="true"-->
            <key>
                <column name="attAlbum_id" not-null="true"/>
            </key>
            <many-to-many entity-name="utils.images.Photo">
                <column name="photo_id" not-null="true"/>
            </many-to-many>
        </set>

        <!--<discriminator column="attached_to" type="string"/>-->

        <!--<subclass name="sections.education.entities.HWAlbum"-->

<!--sections.feed.posts.model.entities-->
    </class>
</hibernate-mapping>